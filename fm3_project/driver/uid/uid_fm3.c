/*!
 ******************************************************************************
 **
 ** \file uid_fm3.c
 **
 ** \brief Unique ID driver
 **
 ** 
 **
 ** \author FSLA AE Team
 **
 ** \version V0.10
 **
 ** \date 2011-12-8
 **
 ** \attention THIS SAMPLE CODE IS PROVIDED AS IS. FUJITSU SEMICONDUCTOR
 **            ACCEPTS NO RESPONSIBILITY OR LIABILITY FOR ANY ERRORS OR
 **            OMMISSIONS.
 **
 ** (C) Copyright 200x-201x by Fujitsu Semiconductor(Shanghai) Co.,Ltd.
 **
 ******************************************************************************
 **
 ** \note Other information.
 **
 ******************************************************************************
 */
 
/*---------------------------------------------------------------------------*/
/* include files                                                             */
/*---------------------------------------------------------------------------*/
#include "uid_fm3.h"

#if (PERIPHERAL_AVAILABLE_UID == ON) && (PERIPHERAL_ENABLE_UID == ON)
/*---------------------------------------------------------------------------*/
/* local datatypes                                                           */
/*---------------------------------------------------------------------------*/

/*---------------------------------------------------------------------------*/
/* local data                                                                */
/*---------------------------------------------------------------------------*/

/*---------------------------------------------------------------------------*/
/* local functions prototypes                                                */
/*---------------------------------------------------------------------------*/

/*---------------------------------------------------------------------------*/
/* global data                                                               */
/*---------------------------------------------------------------------------*/

/*---------------------------------------------------------------------------*/
/* global functions                                                          */
/*---------------------------------------------------------------------------*/
 
/*!
 ******************************************************************************
 ** \brief Get 41bits unique ID
 **
 ** \param Low32Bit Point to low 32bit ID
 ** \param Low32Bit Point to high 32bit ID
 ** 
 ** \retval None
 **
 ******************************************************************************
 */ 
void UID_GetDeviceID(uint32_t *Low32Bit, uint32_t *High9Bit)
{
    uint32_t id0, id1;
    id0 = FM3_UNIQUE_ID->UIDR0;
    id1 = FM3_UNIQUE_ID->UIDR1;
    *Low32Bit = (id0>>4) | ((id1&0x0F)<<28);
    *High9Bit = (id1>>4) & 0x1FF;
}

#endif

 /*****************************************************************************/
/* END OF FILE */
